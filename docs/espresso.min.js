!function(n){var r={};function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=n,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/espresso/",i(i.s=4)}([function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t){e.exports=function(e){throw new Error('"'+e+'" is read-only')}},function(e,t,n){var r,i,o,a;a=function(P){var t=Object.prototype.toString,q=Array.isArray||function(e){return"[object Array]"===t.call(e)};function l(e){return"function"==typeof e}function T(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function h(e,t){return null!=e&&"object"==typeof e&&t in e}var O=RegExp.prototype.test,j=/\S/;var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},A=/\s*/,R=/\s+/,C=/\s*=/,U=/\s*\}/,_=/#|\^|\/|>|\{|&|=|!/;function D(e){this.string=e,this.tail=e,this.pos=0}function a(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function e(){this.cache={}}D.prototype.eos=function(){return""===this.tail},D.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},D.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},a.prototype.push=function(e){return new a(e,this)},a.prototype.lookup=function(e){var t,n,r,i=this.cache;if(i.hasOwnProperty(e))t=i[e];else{for(var o,a,s,u=this,c=!1;u;){if(0<e.indexOf("."))for(o=u.view,a=e.split("."),s=0;null!=o&&s<a.length;)s===a.length-1&&(c=h(o,a[s])||(n=o,r=a[s],null!=n&&"object"!=typeof n&&n.hasOwnProperty&&n.hasOwnProperty(r))),o=o[a[s++]];else o=u.view[e],c=h(u.view,e);if(c){t=o;break}u=u.parent}i[e]=t}return l(t)&&(t=t.call(this.view)),t},e.prototype.clearCache=function(){this.cache={}},e.prototype.parse=function(e,E){var t=this.cache,n=e+":"+(E||P.tags).join(":"),r=t[n];return null==r&&(r=t[n]=function(e,t){if(!e)return[];var n,r,i,o,a,s,u=[],c=[],l=[],h=!1,f=!1;function p(){if(h&&!f)for(;l.length;)delete c[l.pop()];else l=[];f=h=!1}function d(e){if("string"==typeof e&&(e=e.split(R,2)),!q(e)||2!==e.length)throw new Error("Invalid tags: "+e);n=new RegExp(T(e[0])+"\\s*"),r=new RegExp("\\s*"+T(e[1])),i=new RegExp("\\s*"+T("}"+e[1]))}d(E||P.tags);for(var y,g,v,w,m,k,b=new D(e);!b.eos();){if(y=b.pos,v=b.scanUntil(n))for(var S=0,x=v.length;S<x;++S)o=w=v.charAt(S),s=a=void 0,a=j,s=o,O.call(a,s)?f=!0:l.push(c.length),c.push(["text",w,y,y+1]),y+=1,"\n"===w&&p();if(!b.scan(n))break;if(h=!0,g=b.scan(_)||"name",b.scan(A),"="===g?(v=b.scanUntil(C),b.scan(C),b.scanUntil(r)):"{"===g?(v=b.scanUntil(i),b.scan(U),b.scanUntil(r),g="&"):v=b.scanUntil(r),!b.scan(r))throw new Error("Unclosed tag at "+b.pos);if(m=[g,v,y,b.pos],c.push(m),"#"===g||"^"===g)u.push(m);else if("/"===g){if(!(k=u.pop()))throw new Error('Unopened section "'+v+'" at '+y);if(k[1]!==v)throw new Error('Unclosed section "'+k[1]+'" at '+y)}else"name"===g||"{"===g||"&"===g?f=!0:"="===g&&d(v)}if(k=u.pop())throw new Error('Unclosed section "'+k[1]+'" at '+b.pos);return function(e){for(var t,n=[],r=n,i=[],o=0,a=e.length;o<a;++o)switch((t=e[o])[0]){case"#":case"^":r.push(t),i.push(t),r=t[4]=[];break;case"/":i.pop()[5]=t[2],r=0<i.length?i[i.length-1][4]:n;break;default:r.push(t)}return n}(function(e){for(var t,n,r=[],i=0,o=e.length;i<o;++i)(t=e[i])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}(c))}(e)),r},e.prototype.render=function(e,t,n,r){var i=this.parse(e,r),o=t instanceof a?t:new a(t);return this.renderTokens(i,o,n,e,r)},e.prototype.renderTokens=function(e,t,n,r,i){for(var o,a,s,u="",c=0,l=e.length;c<l;++c)s=void 0,"#"===(a=(o=e[c])[0])?s=this.renderSection(o,t,n,r):"^"===a?s=this.renderInverted(o,t,n,r):">"===a?s=this.renderPartial(o,t,n,i):"&"===a?s=this.unescapedValue(o,t):"name"===a?s=this.escapedValue(o,t):"text"===a&&(s=this.rawValue(o)),void 0!==s&&(u+=s);return u},e.prototype.renderSection=function(e,t,n,r){var i=this,o="",a=t.lookup(e[1]);if(a){if(q(a))for(var s=0,u=a.length;s<u;++s)o+=this.renderTokens(e[4],t.push(a[s]),n,r);else if("object"==typeof a||"string"==typeof a||"number"==typeof a)o+=this.renderTokens(e[4],t.push(a),n,r);else if(l(a)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");null!=(a=a.call(t.view,r.slice(e[3],e[5]),function(e){return i.render(e,t,n)}))&&(o+=a)}else o+=this.renderTokens(e[4],t,n,r);return o}},e.prototype.renderInverted=function(e,t,n,r){var i=t.lookup(e[1]);if(!i||q(i)&&0===i.length)return this.renderTokens(e[4],t,n,r)},e.prototype.renderPartial=function(e,t,n,r){if(n){var i=l(n)?n(e[1]):n[e[1]];return null!=i?this.renderTokens(this.parse(i,r),t,n,i):void 0}},e.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},e.prototype.escapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return P.escape(n)},e.prototype.rawValue=function(e){return e[1]},P.name="mustache.js",P.version="3.0.1",P.tags=["{{","}}"];var o=new e;return P.clearCache=function(){return o.clearCache()},P.parse=function(e,t){return o.parse(e,t)},P.render=function(e,t,n,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(q(i=e)?"array":typeof i)+'" was given as the first argument for mustache#render(template, view, partials)');var i;return o.render(e,t,n,r)},P.to_html=function(e,t,n,r){var i=P.render(e,t,n);if(!l(r))return i;r(i)},P.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return n[e]})},P.Scanner=D,P.Context=a,P.Writer=e,P},t&&"string"!=typeof t.nodeName?a(t):(i=[t],void 0===(o="function"==typeof(r=a)?r.apply(t,i):r)||(e.exports=o))},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=n(2),u=n.n(s),c=function(){function e(){i()(this,e)}return a()(e,[{key:"CORS",value:function(e,t){t=void 0===t?"GET":t;var n=new XMLHttpRequest;return"withCredentials"in n?n.open(t,e,!0):"undefined"!=typeof XDomainRequest?(u()("xhr"),(n=new XDomainRequest).open(t,e)):(u()("xhr"),n=null),n}}]),e}(),l=n(3),h=n.n(l),f=function(){function e(){i()(this,e)}return a()(e,[{key:"loadFrame",value:function(e){var t=document.querySelectorAll(e);0<t.length&&t.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=document.querySelector('iframe[role="page-frame"]');"null"!==t&&t.setAttribute("src",e.target.href)})})}},{key:"loadPage",value:function(e){var t=document.querySelectorAll(e);0<t.length&&t.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=document.querySelector('section[role="page-content"]');if(t){var n=(new c).CORS(e.target.href,"GET");n&&(n.onload=function(){200<=n.status&&n.status<400&&(t.innerHTML=n.responseText)},n.onerror=function(){console.error("Cannot load page:"+e.target.href)},n.send())}})})}},{key:"loadData",value:function(e){var t=document.querySelectorAll('[role="template"]');0<t.length&&t.forEach(function(e){e.style.display="none"});var n=document.querySelectorAll(e);0<n.length&&n.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=e.target.getAttribute("data-url"),n=e.target.getAttribute("data-target");if(void 0!==t){var o=(new c).CORS(t,"GET");o&&(o.onload=function(){if(200<=o.status&&o.status<400){var e=JSON.parse(o.responseText);if(0<e.result.length){var r=document.querySelector('[data-source="'+n+'"]'),i=r.querySelector('[role="template"]');r?i?e.result.forEach(function(e,t){var n=i.cloneNode(!0);itemExists=r.querySelector('[data-index="'+t+'"]'),itemExists||(n.setAttribute("data-index",t),n.removeAttribute("role"),n.style.display="block",n.innerHTML=h.a.render(n.innerText,e),r.appendChild(n))}):r.innerHTML=h.a.render(r.innerText,e.result[0]):console.log(e)}}},o.onerror=function(){console.error("Cannot load data:"+t)},o.send())}})})}}]),e}(),p=function(){function e(){i()(this,e)}return a()(e,[{key:"get",value:function(e){e=e.replace(/[\[\]]/g,"\\$&");var t=window.location.href,n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}},{key:"sanitize",value:function(e){for(var t,n="(?:[^\"'>]|\"[^\"]*\"|'[^']*')*",r=new RegExp("<(?:!--(?:(?:-*[^->])*--+|-?)|script\\b"+n+">[\\s\\S]*?</script\\s*|style\\b"+n+">[\\s\\S]*?</style\\s*|/?[a-z]"+n+")>","gi");(e=(t=e).replace(r,""))!==t;);return e.replace(/</g,"&lt;")}},{key:"formatNumber",value:function(e){return(""+e).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,function(e){return e+"."})}}]),e}(),d=function(){function e(){i()(this,e),this.string=window.location.pathname.substr(1),this.parts=this.string.split("/")}return a()(e,[{key:"getString",value:function(){return this.string}},{key:"withString",value:function(e){this.string=e}},{key:"getParts",value:function(){return this.parts}},{key:"withParts",value:function(e){Array.isArray(e)&&this.parts.concat(e)}},{key:"setParts",value:function(e){this.parts=e}},{key:"getPart",value:function(e){return this.parts.hasOwnProperty(e-1)?this.parts[e-1]:null}},{key:"withPart",value:function(e){this.parts.push(e)}},{key:"hasPart",value:function(e){return void 0!==this.parts.find(e)}},{key:"filterPart",value:function(e){return e.replace(/[\W_-]/g,"").replace(/_+/g,"-").replace(/-+/g,"-")}},{key:"getTotalParts",value:function(){return this.parts.length}},{key:"__toString",value:function(){return 0<this.parts.length?this.parts.join("/"):""}}]),e}(),y=function(){function e(){i()(this,e),this.scheme=window.location.protocol,this.segments=new d,this.host=window.location.hostname,this.port=window.location.port,this.hash=window.location.hash,this.query=function(e){if(""==e)return{};for(var t={},n=0;n<e.length;++n){var r=e[n].split("=",2);1==r.length?t[r[0]]="":t[r[0]]=decodeURIComponent(r[1].replace(/\+/g," "))}return t}(window.location.search.substr(1).split("&"))}return a()(e,[{key:"getScheme",value:function(){return this.scheme}},{key:"getSegments",value:function(){return this.segments}},{key:"withSegments",value:function(e){if(Array.isArray(e))return this.segments.withParts(e)}},{key:"getHost",value:function(){return this.host}},{key:"getPort",value:function(){return this.port}},{key:"getHash",value:function(){return this.hash}},{key:"withHash",value:function(e){this.hash=e}},{key:"getQuery",value:function(){return this.query}},{key:"withQuery",value:function(e){e instanceof Object&&(this.query=Object.assign(this.query,e))}},{key:"buildQuery",value:function(t){var n=encodeURIComponent;Object.keys(t).map(function(e){return n(e)+"="+n(t[e])}).join("&")}},{key:"__toString",value:function(){var e=this.scheme+"//"+this.hostname+(this.port?":"+this.port:"")+this.segments.__toString();return 0<this.query.length&&(e+=this.buildQuery(this.query)),this.hash&&(e+=this.hash),e}}]),e}(),g=function(){function e(){i()(this,e),this.uri=new y,this.queryParams=new URLSearchParams(window.location.search),this.queryString=window.location.search.substring(1)}return a()(e,[{key:"getUri",value:function(){return this.uri}},{key:"getQueryString",value:function(){return this.queryString}},{key:"getQueryParams",value:function(){return this.queryParams}},{key:"getHash",value:function(){return window.location.hash}}]),e}();new function e(){i()(this,e),this.listener=new f,this.input=new p,this.serverRequest=new g,this.listener.loadPage('a[data-action="load-page"]'),this.listener.loadData('a[data-action="load-data"]'),this.listener.loadFrame('a[data-action="load-frame"]')}}]);