!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=4)}([function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){e.exports=function(e){throw new Error('"'+e+'" is read-only')}},function(e,t,n){var r,i,o,a;a=function(e){var t=Object.prototype.toString,n=Array.isArray||function(e){return"[object Array]"===t.call(e)};function r(e){return"function"==typeof e}function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(e,t){return null!=e&&"object"==typeof e&&t in e}var a=RegExp.prototype.test,s=/\S/;function u(e){return!function(e,t){return a.call(e,t)}(s,e)}var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},l=/\s*/,h=/\s+/,f=/\s*=/,p=/\s*\}/,d=/#|\^|\/|>|\{|&|=|!/;function y(e){this.string=e,this.tail=e,this.pos=0}function g(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function v(){this.cache={}}y.prototype.eos=function(){return""===this.tail},y.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},y.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},g.prototype.push=function(e){return new g(e,this)},g.prototype.lookup=function(e){var t,n,i,a=this.cache;if(a.hasOwnProperty(e))t=a[e];else{for(var s,u,c,l=this,h=!1;l;){if(e.indexOf(".")>0)for(s=l.view,u=e.split("."),c=0;null!=s&&c<u.length;)c===u.length-1&&(h=o(s,u[c])||(n=s,i=u[c],null!=n&&"object"!=typeof n&&n.hasOwnProperty&&n.hasOwnProperty(i))),s=s[u[c++]];else s=l.view[e],h=o(l.view,e);if(h){t=s;break}l=l.parent}a[e]=t}return r(t)&&(t=t.call(this.view)),t},v.prototype.clearCache=function(){this.cache={}},v.prototype.parse=function(t,r){var o=this.cache,a=t+":"+(r||e.tags).join(":"),s=o[a];return null==s&&(s=o[a]=function(t,r){if(!t)return[];var o,a,s,c=[],g=[],v=[],w=!1,m=!1;function k(){if(w&&!m)for(;v.length;)delete g[v.pop()];else v=[];w=!1,m=!1}function b(e){if("string"==typeof e&&(e=e.split(h,2)),!n(e)||2!==e.length)throw new Error("Invalid tags: "+e);o=new RegExp(i(e[0])+"\\s*"),a=new RegExp("\\s*"+i(e[1])),s=new RegExp("\\s*"+i("}"+e[1]))}b(r||e.tags);for(var S,x,E,P,q,T,O=new y(t);!O.eos();){if(S=O.pos,E=O.scanUntil(o))for(var j=0,A=E.length;j<A;++j)u(P=E.charAt(j))?v.push(g.length):m=!0,g.push(["text",P,S,S+1]),S+=1,"\n"===P&&k();if(!O.scan(o))break;if(w=!0,x=O.scan(d)||"name",O.scan(l),"="===x?(E=O.scanUntil(f),O.scan(f),O.scanUntil(a)):"{"===x?(E=O.scanUntil(s),O.scan(p),O.scanUntil(a),x="&"):E=O.scanUntil(a),!O.scan(a))throw new Error("Unclosed tag at "+O.pos);if(q=[x,E,S,O.pos],g.push(q),"#"===x||"^"===x)c.push(q);else if("/"===x){if(!(T=c.pop()))throw new Error('Unopened section "'+E+'" at '+S);if(T[1]!==E)throw new Error('Unclosed section "'+T[1]+'" at '+S)}else"name"===x||"{"===x||"&"===x?m=!0:"="===x&&b(E)}if(T=c.pop())throw new Error('Unclosed section "'+T[1]+'" at '+O.pos);return function(e){for(var t,n=[],r=n,i=[],o=0,a=e.length;o<a;++o)switch((t=e[o])[0]){case"#":case"^":r.push(t),i.push(t),r=t[4]=[];break;case"/":i.pop()[5]=t[2],r=i.length>0?i[i.length-1][4]:n;break;default:r.push(t)}return n}(function(e){for(var t,n,r=[],i=0,o=e.length;i<o;++i)(t=e[i])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}(g))}(t,r)),s},v.prototype.render=function(e,t,n,r){var i=this.parse(e,r),o=t instanceof g?t:new g(t);return this.renderTokens(i,o,n,e,r)},v.prototype.renderTokens=function(e,t,n,r,i){for(var o,a,s,u="",c=0,l=e.length;c<l;++c)s=void 0,"#"===(a=(o=e[c])[0])?s=this.renderSection(o,t,n,r):"^"===a?s=this.renderInverted(o,t,n,r):">"===a?s=this.renderPartial(o,t,n,i):"&"===a?s=this.unescapedValue(o,t):"name"===a?s=this.escapedValue(o,t):"text"===a&&(s=this.rawValue(o)),void 0!==s&&(u+=s);return u},v.prototype.renderSection=function(e,t,i,o){var a=this,s="",u=t.lookup(e[1]);if(u){if(n(u))for(var c=0,l=u.length;c<l;++c)s+=this.renderTokens(e[4],t.push(u[c]),i,o);else if("object"==typeof u||"string"==typeof u||"number"==typeof u)s+=this.renderTokens(e[4],t.push(u),i,o);else if(r(u)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(u=u.call(t.view,o.slice(e[3],e[5]),function(e){return a.render(e,t,i)}))&&(s+=u)}else s+=this.renderTokens(e[4],t,i,o);return s}},v.prototype.renderInverted=function(e,t,r,i){var o=t.lookup(e[1]);if(!o||n(o)&&0===o.length)return this.renderTokens(e[4],t,r,i)},v.prototype.renderPartial=function(e,t,n,i){if(n){var o=r(n)?n(e[1]):n[e[1]];return null!=o?this.renderTokens(this.parse(o,i),t,n,o):void 0}},v.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},v.prototype.escapedValue=function(t,n){var r=n.lookup(t[1]);if(null!=r)return e.escape(r)},v.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="3.0.1",e.tags=["{{","}}"];var w=new v;return e.clearCache=function(){return w.clearCache()},e.parse=function(e,t){return w.parse(e,t)},e.render=function(e,t,r,i){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(n(o=e)?"array":typeof o)+'" was given as the first argument for mustache#render(template, view, partials)');var o;return w.render(e,t,r,i)},e.to_html=function(t,n,i,o){var a=e.render(t,n,i);if(!r(o))return a;o(a)},e.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return c[e]})},e.Scanner=y,e.Context=g,e.Writer=v,e},t&&"string"!=typeof t.nodeName?a(t):(i=[t],void 0===(o="function"==typeof(r=a)?r.apply(t,i):r)||(e.exports=o))},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=n(2),u=n.n(s),c=function(){function e(){i()(this,e)}return a()(e,[{key:"CORS",value:function(e,t){t=void 0===t?"GET":t;var n=new XMLHttpRequest;return"withCredentials"in n?n.open(t,e,!0):"undefined"!=typeof XDomainRequest?(u()("xhr"),(n=new XDomainRequest).open(t,e)):(u()("xhr"),n=null),n}}]),e}(),l=n(3),h=n.n(l),f=function(){function e(){i()(this,e)}return a()(e,[{key:"loadFrame",value:function(e){var t=document.querySelectorAll(e);t.length>0&&t.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=document.querySelector('iframe[role="page-frame"]');"null"!==t&&t.setAttribute("src",e.target.href)})})}},{key:"loadPage",value:function(e){var t=document.querySelectorAll(e);t.length>0&&t.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=document.querySelector('section[role="page-content"]');if(t){var n=(new c).CORS(e.target.href,"GET");n&&(n.onload=function(){n.status>=200&&n.status<400&&(t.innerHTML=n.responseText)},n.onerror=function(){console.error("Cannot load page:"+e.target.href)},n.send())}})})}},{key:"loadData",value:function(e){var t=document.querySelectorAll('[role="template"]');t.length>0&&t.forEach(function(e){e.style.display="none"});var n=document.querySelectorAll(e);n.length>0&&n.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=e.target.getAttribute("data-url"),n=e.target.getAttribute("data-target");if(void 0!==t){var r=(new c).CORS(t,"GET");r&&(r.onload=function(){if(r.status>=200&&r.status<400){var e=JSON.parse(r.responseText);if(e.result.length>0){var t=document.querySelector('[data-source="'+n+'"]'),i=t.querySelector('[role="template"]');t?i?e.result.forEach(function(e,n){var r=i.cloneNode(!0);itemExists=t.querySelector('[data-index="'+n+'"]'),itemExists||(r.setAttribute("data-index",n),r.removeAttribute("role"),r.style.display="block",r.innerHTML=h.a.render(r.innerText,e),t.appendChild(r))}):t.innerHTML=h.a.render(t.innerText,e.result[0]):console.log(e)}}},r.onerror=function(){console.error("Cannot load data:"+t)},r.send())}})})}}]),e}(),p=function(){function e(){i()(this,e)}return a()(e,[{key:"get",value:function(e){e=e.replace(/[\[\]]/g,"\\$&");var t=window.location.href,n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}},{key:"sanitize",value:function(e){var t,n="(?:[^\"'>]|\"[^\"]*\"|'[^']*')*",r=new RegExp("<(?:!--(?:(?:-*[^->])*--+|-?)|script\\b"+n+">[\\s\\S]*?</script\\s*|style\\b"+n+">[\\s\\S]*?</style\\s*|/?[a-z]"+n+")>","gi");do{t=e,e=e.replace(r,"")}while(e!==t);return e.replace(/</g,"&lt;")}},{key:"formatNumber",value:function(e){return(""+e).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,function(e){return e+"."})}}]),e}(),d=function(){function e(){i()(this,e),this.string=window.location.pathname.substr(1),this.parts=this.string.split("/")}return a()(e,[{key:"getString",value:function(){return this.string}},{key:"withString",value:function(e){this.string=e}},{key:"getParts",value:function(){return this.parts}},{key:"withParts",value:function(e){Array.isArray(e)&&this.parts.concat(e)}},{key:"setParts",value:function(e){this.parts=e}},{key:"getPart",value:function(e){return this.parts.hasOwnProperty(e-1)?this.parts[e-1]:null}},{key:"withPart",value:function(e){this.parts.push(e)}},{key:"hasPart",value:function(e){return void 0!==this.parts.find(e)}},{key:"filterPart",value:function(e){return e.replace(/[\W_-]/g,"").replace(/_+/g,"-").replace(/-+/g,"-")}},{key:"getTotalParts",value:function(){return this.parts.length}},{key:"__toString",value:function(){return this.parts.length>0?this.parts.join("/"):""}}]),e}(),y=function(){function e(){i()(this,e),this.scheme=window.location.protocol,this.segments=new d,this.host=window.location.hostname,this.port=window.location.port,this.hash=window.location.hash,this.query=function(e){if(""==e)return{};for(var t={},n=0;n<e.length;++n){var r=e[n].split("=",2);1==r.length?t[r[0]]="":t[r[0]]=decodeURIComponent(r[1].replace(/\+/g," "))}return t}(window.location.search.substr(1).split("&"))}return a()(e,[{key:"getScheme",value:function(){return this.scheme}},{key:"getSegments",value:function(){return this.segments}},{key:"withSegments",value:function(e){if(Array.isArray(e))return this.segments.withParts(e)}},{key:"getHost",value:function(){return this.host}},{key:"getPort",value:function(){return this.port}},{key:"getHash",value:function(){return this.hash}},{key:"withHash",value:function(e){this.hash=e}},{key:"getQuery",value:function(){return this.query}},{key:"withQuery",value:function(e){e instanceof Object&&(this.query=Object.assign(this.query,e))}},{key:"buildQuery",value:function(e){var t=encodeURIComponent;Object.keys(e).map(function(n){return t(n)+"="+t(e[n])}).join("&")}},{key:"__toString",value:function(){var e=this.scheme+"//"+this.hostname+(this.port?":"+this.port:"")+this.segments.__toString();return this.query.length>0&&(e+=this.buildQuery(this.query)),this.hash&&(e+=this.hash),e}}]),e}(),g=function(){function e(){i()(this,e),this.uri=new y,this.queryParams=new URLSearchParams(window.location.search),this.queryString=window.location.search.substring(1)}return a()(e,[{key:"getUri",value:function(){return this.uri}},{key:"getQueryString",value:function(){return this.queryString}},{key:"getQueryParams",value:function(){return this.queryParams}},{key:"getHash",value:function(){return window.location.hash}}]),e}();new function e(){i()(this,e),this.listener=new f,this.input=new p,this.serverRequest=new g,this.listener.loadPage('a[data-action="load-page"]'),this.listener.loadData('a[data-action="load-data"]'),this.listener.loadFrame('a[data-action="load-frame"]')}}]);